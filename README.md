# Weather & Tasks MCP Server with AI Agent

MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ AI-–∞–≥–µ–Ω—Ç–æ–º.

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª MCP –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è:

**–ü–æ–≥–æ–¥–∞:**
- –¢–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- 5-–¥–Ω–µ–≤–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã
- –¢–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –¥–∞—Ç—ã –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –≥–æ—Ä–æ–¥–∞

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ (Tasks):**
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏: –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —É–¥–∞–ª–µ–Ω–∏–µ
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–¥–∞—á–∏ (DAILY, WEEKLY, MONTHLY)
- –£—Ä–æ–≤–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ (LOW, MEDIUM, HIGH, URGENT)
- SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –∏ –≤–∞–∂–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–¥–∫–∏ –ø–æ –∑–∞–¥–∞—á–∞–º

**–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞—á–∏
- –û–±–æ–≥–∞—â–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–≥–æ–¥–µ –∏ –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram —Å –∫—Ä–∞—Å–∏–≤–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á

**AI –ê–≥–µ–Ω—Ç (DeepSeek):**
- –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP tools (–ø–æ–≥–æ–¥–∞, –≤—Ä–µ–º—è)
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Telegram

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è MCP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (JSON-RPC 2.0)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenWeatherMap API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è (metric, imperial, standard)
- AI –∞–≥–µ–Ω—Ç —Å –º–æ–¥–µ–ª—å—é DeepSeek –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
- Scheduler –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞—á (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–¥–∞—á–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å Docker
- Health check endpoints
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Kotlin
- Ktor (Web Framework)
- kotlinx.serialization (JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- kotlinx.coroutines (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å)
- Exposed ORM + SQLite (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- Docker & Docker Compose
- OpenWeatherMap API (–ø–æ–≥–æ–¥–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
- WorldTimeAPI (–≤—Ä–µ–º—è –∏ —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞)
- DeepSeek API (AI –∞–≥–µ–Ω—Ç —Å function calling)

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. JDK 17 –∏–ª–∏ –≤—ã—à–µ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
2. Docker –∏ Docker Compose (–¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
3. API –∫–ª—é—á –æ—Ç OpenWeatherMap (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://openweathermap.org/api)
4. API –∫–ª—é—á –æ—Ç DeepSeek (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞ - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://platform.deepseek.com/)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
   ```bash
   cp .env.example .env
   ```

3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏ –≤ `.env`:
   ```
   OPENWEATHER_API_KEY=–≤–∞—à_api_–∫–ª—é—á
   TELEGRAM_ENABLED=true
   TELEGRAM_BOT_TOKEN=–≤–∞—à_telegram_—Ç–æ–∫–µ–Ω
   TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
   ```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   export OPENWEATHER_API_KEY=–≤–∞—à_api_–∫–ª—é—á
   ./gradlew run
   ```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
   ```bash
   cp .env.example .env
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏ –≤ `.env`

3. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   ```bash
   docker-compose up -d
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
   ```bash
   docker-compose ps
   ```

5. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
   ```bash
   docker-compose logs -f
   ```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Docker

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∑–∞–¥–∞—á–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è Docker volumes.

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
git pull

# 2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–∞–Ω–Ω—ã–µ –≤ volume —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è!)
docker-compose down

# 3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º
docker-compose build --no-cache

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
docker-compose logs -f
```

#### –í–∞–∂–Ω–æ: –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Docker volume** `task-data`
- –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `docker-compose down` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª—è–µ—Ç—Å—è, –Ω–æ **volume –æ—Å—Ç–∞–µ—Ç—Å—è**
- –í—Å–µ –∑–∞–¥–∞—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- –ë–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

## API Endpoints

### Health Check
```bash
GET /health
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö:
```json
{
  "status": "healthy",
  "tasks": "enabled"
}
```

### MCP Endpoint
```bash
POST /mcp
Content-Type: application/json
```

## MCP Tools

### –ü–æ–≥–æ–¥–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

#### 1. get_current_weather

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –¥–ª—è –≥–æ—Ä–æ–¥–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `city` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "London", "Moscow", "–ú–æ—Å–∫–≤–∞")
- `units` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è - "metric" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), "imperial", "standard"

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "1",
  "method": "tools/call",
  "params": {
    "name": "get_current_weather",
    "arguments": {
      "city": "Moscow",
      "units": "metric"
    }
  }
}
```

#### 2. get_weather_forecast

–ü–æ–ª—É—á–∏—Ç—å 5-–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `city` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
- `units` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

#### 3. get_city_time

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è, –¥–∞—Ç—É –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –¥–ª—è –≥–æ—Ä–æ–¥–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `city` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
üïê Time in Tokyo, JP

Current time: 15:30:45
Current date: 2024-12-17
Day of week: Tuesday

Timezone: Asia/Tokyo
UTC offset: +09:00
DST active: No

Unix timestamp: 1702814445
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏

#### 4. add_task

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É. –ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ —É–∫–∞–∑–∞–Ω, –æ–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `title` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ description)
- `description` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `reminder_time` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ ISO —Ñ–æ—Ä–º–∞—Ç–µ (2024-12-17T15:30:00) - –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞
- `recurrence` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ - DAILY, WEEKLY, MONTHLY
- `importance` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –í–∞–∂–Ω–æ—Å—Ç—å - LOW, MEDIUM, HIGH, URGENT (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é MEDIUM)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "4",
  "method": "tools/call",
  "params": {
    "name": "add_task",
    "arguments": {
      "title": "–í—Å—Ç—Ä–µ—á–∞ –≤ –ú–æ—Å–∫–≤–µ",
      "description": "–û–±—Å—É–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–≤–∞—Ä—Ç–∞–ª–∞ –∏ –ø–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π",
      "reminder_time": "2024-12-20T14:00:00",
      "recurrence": "WEEKLY",
      "importance": "HIGH"
    }
  }
}
```

**–ü—Ä–∏–º–µ—Ä —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∑–∞–≥–æ–ª–æ–≤–∫–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "5",
  "method": "tools/call",
  "params": {
    "name": "add_task",
    "arguments": {
      "description": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≥–æ–¥—É –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ –∏ –≤–∑—è—Ç—å –∑–æ–Ω—Ç –µ—Å–ª–∏ –Ω—É–∂–Ω–æ",
      "reminder_time": "2024-12-18T08:00:00",
      "importance": "MEDIUM"
    }
  }
}
```

#### 5. list_tasks

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á –∏–ª–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Å—Ç–∞—Ç—É—Å—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É - ACTIVE, COMPLETED

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "6",
  "method": "tools/call",
  "params": {
    "name": "list_tasks",
    "arguments": {
      "status": "ACTIVE"
    }
  }
}
```

#### 6. get_task

–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): ID –∑–∞–¥–∞—á–∏

#### 7. complete_task

–ü–æ–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): ID –∑–∞–¥–∞—á–∏

#### 8. delete_task

–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): ID –∑–∞–¥–∞—á–∏

#### 9. get_tasks_for_date

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `date` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –î–∞—Ç–∞ –≤ ISO —Ñ–æ—Ä–º–∞—Ç–µ (2024-12-17)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "9",
  "method": "tools/call",
  "params": {
    "name": "get_tasks_for_date",
    "arguments": {
      "date": "2024-12-20"
    }
  }
}
```

#### 10. get_tasks_by_importance

–ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —É—Ä–æ–≤–Ω—é –≤–∞–∂–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `importance` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –£—Ä–æ–≤–µ–Ω—å –≤–∞–∂–Ω–æ—Å—Ç–∏ - LOW, MEDIUM, HIGH, URGENT

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "10",
  "method": "tools/call",
  "params": {
    "name": "get_tasks_by_importance",
    "arguments": {
      "importance": "HIGH"
    }
  }
}
```

#### 11. get_tasks_summary

–ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –ø–æ –≤—Å–µ–º –∑–∞–¥–∞—á–∞–º (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ, –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ).

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "11",
  "method": "tools/call",
  "params": {
    "name": "get_tasks_summary",
    "arguments": {}
  }
}
```

#### 12. set_notification_schedule

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ —Å–≤–æ–¥–∫–æ–π –ø–æ –∑–∞–¥–∞—á–∞–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `interval_minutes` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–Ω—É—Ç–∞—Ö (60 = –∫–∞–∂–¥—ã–π —á–∞—Å, 1440 = —Ä–∞–∑ –≤ –¥–µ–Ω—å)
- `enabled` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": "12",
  "method": "tools/call",
  "params": {
    "name": "set_notification_schedule",
    "arguments": {
      "interval_minutes": 1440,
      "enabled": true
    }
  }
}
```

#### 13. get_notification_schedule

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

#### 14. send_test_notification

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

## –†–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

1. **Scheduler** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
2. –ù–∞—Ö–æ–¥–∏—Ç –∑–∞–¥–∞—á–∏ —Å –Ω–∞—Å—Ç—É–ø–∏–≤—à–∏–º –≤—Ä–µ–º–µ–Ω–µ–º (`reminderDateTime <= now` –∏ `isCompleted = false`)
3. –ü–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–¥–∞—á—É **AgentIntegrationService**
4. –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:
   - –ò—â–µ—Ç –≥–æ—Ä–æ–¥ –≤ `title` –∏ `description` —á–µ—Ä–µ–∑ regex
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É –∏ –ª–∞—Ç–∏–Ω–∏—Ü—É
5. **–ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–∞–π–¥–µ–Ω**: –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–≥–æ–¥—É –∏ –≤—Ä–µ–º—è –¥–ª—è —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞
6. **–ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω**: –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–≥–æ–¥—É –¥–ª—è –ú–æ—Å–∫–≤—ã, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ –∏ –ö–∞–∑–∞–Ω–∏
7. –§–æ—Ä–º–∏—Ä—É–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ —à–∞–±–ª–æ–Ω—É
8. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram
9. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É:
   - –ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è (`recurrence = null`) ‚Üí –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é
   - –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –¥–∞—Ç—É –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `reminderDateTime`

### –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ü—Ä–∏ –Ω–∞–π–¥–µ–Ω–Ω–æ–º –≥–æ—Ä–æ–¥–µ:**
```
üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–¥–∞—á–µ!
üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫: –í—Å—Ç—Ä–µ—á–∞ –≤ –ú–æ—Å–∫–≤–µ
üìÖ –î–∞—Ç–∞: 2024-12-20
‚è∞ –í—Ä–µ–º—è: 14:00:00
üìù –¢–µ–∫—Å—Ç: –û–±—Å—É–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–≤–∞—Ä—Ç–∞–ª–∞
üå§Ô∏è –ü–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ: –û–±–ª–∞—á–Ω–æ, 5¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å 80%
üïê –í—Ä–µ–º—è –≤ –ú–æ—Å–∫–≤–µ: 14:00:00, 2024-12-20
```

**–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≥–æ—Ä–æ–¥–∞ –≤ —Ç–µ–∫—Å—Ç–µ:**
```
üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–¥–∞—á–µ!
üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á–µ—Ç
üìÖ –î–∞—Ç–∞: 2024-12-20
‚è∞ –í—Ä–µ–º—è: 09:00:00
üìù –¢–µ–∫—Å—Ç: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª
üå§Ô∏è –ü–æ–≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–∞—Ö –†–§:
- Moscow: –û–±–ª–∞—á–Ω–æ, 5¬∞C
- Saint Petersburg: –°–Ω–µ–≥, -2¬∞C
- Kazan: –Ø—Å–Ω–æ, 3¬∞C
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á

**1. –ó–∞–¥–∞—á–∞ —Å –≥–æ—Ä–æ–¥–æ–º:**
```json
{
  "title": "–í—Å—Ç—Ä–µ—á–∞",
  "description": "–í—Å—Ç—Ä–µ—á–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º –≤ –ú–æ—Å–∫–≤–µ –ø–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞",
  "reminder_time": "2024-12-20T14:00:00",
  "importance": "HIGH"
}
```
‚Üí –°–∏—Å—Ç–µ–º–∞ –∏–∑–≤–ª–µ—á–µ—Ç "–ú–æ—Å–∫–≤–∞" –∏ –ø–æ–∫–∞–∂–µ—Ç –ø–æ–≥–æ–¥—É –¥–ª—è –ú–æ—Å–∫–≤—ã

**2. –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –∑–∞–¥–∞—á–∞:**
```json
{
  "title": "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∑–≤–æ–Ω–æ–∫",
  "description": "–°–æ–∑–≤–æ–Ω —Å –∫–æ–º–∞–Ω–¥–æ–π –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ",
  "reminder_time": "2024-12-18T10:00:00",
  "recurrence": "WEEKLY",
  "importance": "MEDIUM"
}
```
‚Üí –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é

**3. –ó–∞–¥–∞—á–∞ –±–µ–∑ –≥–æ—Ä–æ–¥–∞:**
```json
{
  "description": "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Å–æ–≤–µ—â–∞–Ω–∏—è",
  "reminder_time": "2024-12-19T09:00:00",
  "importance": "HIGH"
}
```
‚Üí –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç –ø–æ–≥–æ–¥—É –¥–ª—è 3 –≥–æ—Ä–æ–¥–æ–≤ –†–§, –∑–∞–≥–æ–ª–æ–≤–æ–∫ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Telegram

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather):
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

2. –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Chat ID:
   - –ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –±–æ—Ç—É
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à `chat.id` –≤ –æ—Ç–≤–µ—Ç–µ

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:
```bash
TELEGRAM_ENABLED=true
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=your_chat_id
```

### DeepSeek AI Agent

1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –æ—Ç DeepSeek:
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://platform.deepseek.com/
   - –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ API Keys
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:
```bash
AGENT_ENABLED=true
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–¥–∞—á–∏ –≤–∫–ª—é—á–µ–Ω—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã):
```bash
TASKS_ENABLED=true
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 24/7

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ 24/7 —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:

1. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –Ω–∞ VPS (—á–µ—Ä–µ–∑ Docker)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
4. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∑–∞–¥–∞—á–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è!

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:8080/health

# –¢–µ—Å—Ç MCP initialize
curl -X POST http://localhost:8080/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "initialize"
  }'

# –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
curl -X POST http://localhost:8080/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "2",
    "method": "tools/call",
    "params": {
      "name": "add_task",
      "arguments": {
        "title": "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–¥–∞—á–∞",
        "description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –≤ –ú–æ—Å–∫–≤–µ",
        "reminder_time": "2024-12-20T15:00:00",
        "importance": "HIGH"
      }
    }
  }'

# –¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
curl -X POST http://localhost:8080/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "3",
    "method": "tools/call",
    "params": {
      "name": "get_current_weather",
      "arguments": {
        "city": "Moscow",
        "units": "metric"
      }
    }
  }'
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
./gradlew build
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
./gradlew test
```

### –°–±–æ—Ä–∫–∞ Fat JAR
```bash
./gradlew buildFatJar
```

### –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
```bash
docker build -t mcp-weather-server:latest .
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îú‚îÄ‚îÄ kotlin/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/bazik/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mcp/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models/      # MCP –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ McpService.kt # MCP –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ weather/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models/      # OpenWeatherMap –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ WeatherService.kt # –†–∞–±–æ—Ç–∞ —Å Weather API
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ time/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models/      # TimeZone –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ TimeService.kt # –†–∞–±–æ—Ç–∞ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ reminder/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models/      # –ú–æ–¥–µ–ª–∏ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ TaskRepository.kt    # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ TaskService.kt       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SchedulerService.kt  # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ NotificationService.kt # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ agent/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models/      # –ú–æ–¥–µ–ª–∏ –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AgentService.kt      # DeepSeek –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ AgentIntegrationService.kt # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Application.kt   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Routing.kt       # –ú–∞—Ä—à—Ä—É—Ç—ã –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Serialization.kt # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ       ‚îî‚îÄ‚îÄ application.conf     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
User creates Task
       ‚Üì
   TaskRepository (SQLite)
       ‚Üì
SchedulerService (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
       ‚Üì
AgentIntegrationService.processTaskNotification()
       ‚Üì
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ –ò–∑–≤–ª–µ—á—å –≥–æ—Ä–æ–¥   ‚îÇ
   ‚îÇ –∏–∑ —Ç–µ–∫—Å—Ç–∞       ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ             ‚îÇ
–ì–æ—Ä–æ–¥ –Ω–∞–π–¥–µ–Ω   –ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω
    ‚îÇ             ‚îÇ
    ‚Üì             ‚Üì
–ü–æ–≥–æ–¥–∞/–≤—Ä–µ–º—è   –ü–æ–≥–æ–¥–∞ –¥–ª—è 3 –≥–æ—Ä–æ–¥–æ–≤
–¥–ª—è –≥–æ—Ä–æ–¥–∞     (–ú–æ—Å–∫–≤–∞, –°–ü–±, –ö–∞–∑–∞–Ω—å)
    ‚îÇ             ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚Üì
  –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
           ‚Üì
    Telegram –æ—Ç–ø—Ä–∞–≤–∫–∞
           ‚Üì
    markTaskAsProcessed()
           ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ             ‚îÇ
recurrence?    recurrence?
   –¥–∞            –Ω–µ—Ç
    ‚îÇ             ‚îÇ
    ‚Üì             ‚Üì
–°–ª–µ–¥—É—é—â–∞—è –¥–∞—Ç–∞  isCompleted = true
```

## Troubleshooting

### –û—à–∏–±–∫–∞ "API key is not configured"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `OPENWEATHER_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs
```

### –ü–æ—Ä—Ç 8080 –∑–∞–Ω—è—Ç
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml` –∏–ª–∏ `.env`:
```yaml
ports:
  - "8081:8080"  # –ò—Å–ø–æ–ª—å–∑—É–µ–º 8081 –≤–º–µ—Å—Ç–æ 8080
```

### Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ chat ID
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ chat
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs -f | grep -i telegram
```

### –ó–∞–¥–∞—á–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `AGENT_ENABLED=true` –∏ `TASKS_ENABLED=true`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Ä–µ–º—è –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—É–ø–∏–ª–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ scheduler:
```bash
docker-compose logs -f | grep -i scheduler
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
